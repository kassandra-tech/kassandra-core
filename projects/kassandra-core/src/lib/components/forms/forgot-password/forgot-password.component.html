<ng-container *ngIf="forgotPasswordForm">
  <form class="form" autocomplete="off" id="forgot-password-form" [ngClass]="{valid: forgotPasswordForm.valid}"
    [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit(forgotPasswordForm.value)">
    <fieldset class="form-content">
      <legend class="title">Forgot Password</legend>
      <legend class="sub-title">
        Please enter your Username and Email Address to reset your Password
      </legend>
      <label class="input-group" [for]="ids.usernameField" [ngClass]="{'error': forgotPasswordForm.get('userName')?.touched &&
                                  forgotPasswordForm.get('userName')?.dirty &&
                                  forgotPasswordForm.get('userName')?.invalid
             }">
        <span class="label-text">Username</span>
        <div class="input-wrapper">
          <input kas-form-item type="text" [id]="ids.usernameField" name="userName" formControlName="userName"
            placeholder="Enter your username">
        </div>
        <div *ngIf="forgotPasswordForm.get('userName')?.touched &&
                    forgotPasswordForm.get('userName')?.dirty &&
                    forgotPasswordForm.get('userName')?.invalid" class="alert alert-danger">
          <div *ngIf="forgotPasswordForm.get('userName')?.errors?.['required']">
            Username required
          </div>
          <div *ngIf="forgotPasswordForm.get('userName')?.errors?.['minlength']">
            Username must be at least 5 characters
          </div>
        </div>
      </label>
      <label class="input-group" [for]="ids.emailField" [ngClass]="{'error': forgotPasswordForm.get('email')?.touched &&
                                  forgotPasswordForm.get('email')?.dirty &&
                                  forgotPasswordForm.get('email')?.invalid
             }">
        <span class="label-text">Email</span>
        <div class="input-wrapper">
          <input kas-form-item type="email" [id]="ids.emailField" name="email" formControlName="email"
            placeholder="Enter your email">
        </div>
        <div *ngIf="forgotPasswordForm.get('email')?.touched &&
                    forgotPasswordForm.get('email')?.dirty &&
                    forgotPasswordForm.get('email')?.invalid" class="alert alert-danger">
          <div *ngIf="forgotPasswordForm.get('email')?.errors?.['required']">
            Email is required
          </div>
          <div *ngIf="forgotPasswordForm.get('email')?.errors?.['minlength']">
            Email must be at least 5 characters
          </div>
          <div *ngIf="forgotPasswordForm.get('email')?.errors?.['email']">
            Please enter email address in format: name@example.com
          </div>
        </div>
      </label>
      <div class="btn-holder">
        <button kas-cta-primary type="submit" class="btn" [id]="ids.resetButton"
          [activeClass]="forgotPasswordForm.valid" [disabled]="!forgotPasswordForm.valid || isDisabled || submitted"
          [class.disabled]="!forgotPasswordForm.valid || isDisabled || submitted"><span class="cta-content">Reset</span>
        </button>
      </div>
    </fieldset>
  </form>
</ng-container>
